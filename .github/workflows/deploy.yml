- name: Inject Environment Variables
        run: |
          # 尝试从 secrets 读取，如果没有，尝试从 vars 读取
          EMAIL_VAL="${{ secrets.MY_EMAIL }}"
          if [ -z "$EMAIL_VAL" ]; then EMAIL_VAL="${{ vars.MY_EMAIL }}"; fi
          
          GITHUB_VAL="${{ secrets.MY_GITHUB }}"
          if [ -z "$GITHUB_VAL" ]; then GITHUB_VAL="${{ vars.MY_GITHUB }}"; fi

          # 打印日志方便调试 (由于Secret会自动打码，这里只打印是否获取到)
          if [ -n "$EMAIL_VAL" ]; then echo "Email found!"; else echo "Email NOT found!"; fi

          # 执行替换
          sed -i "s|{{MY_EMAIL}}|$EMAIL_VAL|g" index.html
          sed -i "s|{{MY_GITHUB}}|$GITHUB_VAL|g" index.html
